<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>管理员登录</title>
    <script src="../js/admin/vue.js"></script>
    <script src="../js/admin/axios.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/index.css">
    <script src="../js/admin/element/index.js"></script>

</head>
<body>
<div id="app">
    <div class="container">
        <div class="row justify-content-center">
            <div class="el-col el-col-7">
                <h3 class="text-center">管理员登录</h3>
                <hr>
                <el-form :label-position="right" label-width="80px" :model="admin">
                    <el-form-item label="用户名">
                        <el-input v-model="admin.username" placeholder="输入用户名"></el-input>
                    </el-form-item>
                    <el-form-item label="密码">
                        <el-input type="password" v-model="admin.password" placeholder="输入密码"></el-input>
                    </el-form-item>
                </el-form>
                <div style="text-align: center">
                    <el-button type="primary" @click="login" block>登录</el-button>
                </div>

<!--            </div>-->

        </div>

    </div>
</div>
</div>
<script>
    var app = new Vue({
        el: '#app',
        data() {
            return {
                admin: {
                    username: '',
                    password: '',
                }
            };
        },
        methods: {
            login: function () {
                axios.post("/admin/login", this.admin).then((res => {
                    console.log(res.data)
                    if (res.data === "ok") {
                        this.$message({
                            message: '登录成功，正在跳转',
                            type: 'success'
                        });
                        setTimeout(() => {
                            window.location.href = "review.html";
                        }, 700);
                    } else {
                        this.$message.error('用户名或密码错误');
                    }
                })).catch(error => {
                    console.log(error);
                })
            }
        }
    });
</script>

</body>

</html>